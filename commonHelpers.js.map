{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/img/icon-error.svg","../src/js/render-functions.js"],"sourcesContent":["\nconst baseUrl = \"https://pixabay.com/api/\";\nconst key = \"42527705-4e95d3f46fcc8571248d3eb24\";\n\n//Формування HTTP запита на сервер для отримання відповіді (проміса)\nfunction getImagesService(value) {\n  const url = `${baseUrl}?key=${key}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(url);\n}\n\n//Експорт функцій \nexport { getImagesService }","export default \"__VITE_ASSET__eb775c6f__\"","// Імпорт бібліотеки SimpleLightbox - відображення модалки фото\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n//Імпорт функцій з \"./pixabay-api\"\nimport { getImagesService } from \"./pixabay-api\";\n//Імпорт iziToast для відображення повідомлення\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport iconError from \"../img/icon-error.svg\";\n\n//Використання iziToast\nconst showErrorMessage = () => iziToast.error({\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    iconUrl: iconError,\n    position: \"topRight\",\n    backgroundColor: \"#ef4040\",\n    theme: \"dark\",\n    transitionIn: \"fadeInRight\",\n})\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\")\n\n//Функція додавання та видалення класу \"is-hidden\" для видимості завантажувача\nconst showLoader = () => loader.classList.toggle(\"is-hidden\");\n\n\n//Функція до слухача події до кнопки - відправка запиту та відповідь\nfunction getImagesFromPixabay(event) {\n    event.preventDefault();\n    gallery.innerHTML = \"\";\n    const input = event.currentTarget.elements.image.value.trim();\n    const inputSearch = input.split(\" \").join(\"+\");\n    \n    if (input) {\n        showLoader();\n        getImagesService(inputSearch)\n            .then(response => {\n                if (!response.ok) {\n                throw new Error(`Error request ${response.status}`)\n                }\n                return response.json();\n                })\n            .then(data => {\n                showLoader();\n                if (data.hits.length !== 0) {\n                    // console.log(data.hits)\n                    markup(data);\n                    form.reset()\n                } else {\n                    showErrorMessage()\n                    }\n            })\n            .catch(error => {\n                console.log(error);\n                showLoader()\n                showErrorMessage();\n            })\n        }\n}\nform.addEventListener(\"submit\", getImagesFromPixabay)\n\n\n//Вікористання бібліотеки\nconst lightbox = new SimpleLightbox('.gallery a', { captionsData: \"alt\", captionDelay: 250 } );\n\n//Додавання HTML коду списку галереї\nfunction markup(data) {\n//   console.log(data)\nlet galleryHTML = \"\";\ndata.hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return galleryHTML += `<li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\"><img class=\"gallery-item-images\" src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n        <ul class=\"gallery-item-info\">\n            <li class=\"item-info\">\n                <p class=\"item-info-name\">Likes</p>\n                <p class=\"item-info-value\">${likes}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"item-info-name\">Views</p>\n                <p class=\"item-info-value\">${views}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"item-info-name\">Comments</p>\n                <p class=\"item-info-value\">${comments}</p>\n            </li>\n            <li class=\"item-info\">\n                <p class=\"item-info-name\">Downloads</p>\n                <p class=\"item-info-value\">${downloads}</p>\n            </li>\n            </ul>\n    </li>`\n    }).join(\"\");\n    gallery.innerHTML = galleryHTML;\n    //Оновлення метод refresh() для даних Ajax Calls або після DOM-маніпуляцій \n    lightbox.refresh();\n    //Стилі бібліотеки simplelightbox\n    lightbox.on('shown.simplelightbox', function () {\n    const overlay = document.querySelector(\".sl-overlay\");\n    const btnClose = document.querySelector(\".sl-close \");\n    const counter = document.querySelector(\".sl-counter\");\n    const btnArrow = document.querySelectorAll(\".sl-navigation button\");\n    const overlayImage = document.querySelector(\".sl-caption\");\n\n    overlay.style.backgroundColor = \"rgb(46, 47, 66)\";\n    btnClose.style.color = \"#ffffff\";\n    btnClose.style.fontSize = \"2rem\";\n    counter.style.color = \"#ffffff\";\n    btnArrow.forEach(item => item.style.color = \"#ffffff\");\n    overlayImage.style.backgroundColor = \"rgba(46, 47, 66, 0.80)\";\n    });\n}\n\n"],"names":["baseUrl","key","getImagesService","value","url","iconError","showErrorMessage","iziToast","form","gallery","loader","showLoader","getImagesFromPixabay","event","input","inputSearch","response","data","markup","error","lightbox","SimpleLightbox","galleryHTML","webformatURL","largeImageURL","tags","likes","views","comments","downloads","overlay","btnClose","counter","btnArrow","overlayImage","item"],"mappings":"6vBACA,MAAMA,EAAU,2BACVC,EAAM,qCAGZ,SAASC,EAAiBC,EAAO,CAC/B,MAAMC,EAAM,GAAGJ,CAAO,QAAQC,CAAG,MAAME,CAAK,2DAC5C,OAAO,MAAMC,CAAG,CAClB,CCRA,MAAeC,EAAA,gDCWTC,EAAmB,IAAMC,EAAS,MAAM,CAC1C,QAAS,2EACT,QAASF,EACT,SAAU,WACV,gBAAiB,UACjB,MAAO,OACP,aAAc,aAClB,CAAC,EAEKG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAa,IAAMD,EAAO,UAAU,OAAO,WAAW,EAI5D,SAASE,EAAqBC,EAAO,CACjCA,EAAM,eAAc,EACpBJ,EAAQ,UAAY,GACpB,MAAMK,EAAQD,EAAM,cAAc,SAAS,MAAM,MAAM,OACjDE,EAAcD,EAAM,MAAM,GAAG,EAAE,KAAK,GAAG,EAEzCA,IACAH,IACAT,EAAiBa,CAAW,EACvB,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACd,MAAM,IAAI,MAAM,iBAAiBA,EAAS,MAAM,EAAE,EAElD,OAAOA,EAAS,MAChC,CAAiB,EACJ,KAAKC,GAAQ,CACVN,IACIM,EAAK,KAAK,SAAW,GAErBC,EAAOD,CAAI,EACXT,EAAK,MAAO,GAEZF,EAAkB,CAEtC,CAAa,EACA,MAAMa,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBR,EAAY,EACZL,GAChB,CAAa,EAEb,CACAE,EAAK,iBAAiB,SAAUI,CAAoB,EAIpD,MAAMQ,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,GAG1F,SAASH,EAAOD,EAAM,CAEtB,IAAIK,EAAc,GAClBL,EAAK,KAAK,IAAI,CAAC,CAAE,aAAAM,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC1EP,GAAe;AAAA,mBACPE,CAAa,2CAA2CD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,6CAIxDC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6CAIRC,CAAS;AAAA;AAAA;AAAA,UAIjD,EAAE,KAAK,EAAE,EACVpB,EAAQ,UAAYa,EAEpBF,EAAS,QAAO,EAEhBA,EAAS,GAAG,uBAAwB,UAAY,CAChD,MAAMU,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAW,SAAS,iBAAiB,uBAAuB,EAC5DC,EAAe,SAAS,cAAc,aAAa,EAEzDJ,EAAQ,MAAM,gBAAkB,kBAChCC,EAAS,MAAM,MAAQ,UACvBA,EAAS,MAAM,SAAW,OAC1BC,EAAQ,MAAM,MAAQ,UACtBC,EAAS,QAAQE,GAAQA,EAAK,MAAM,MAAQ,SAAS,EACrDD,EAAa,MAAM,gBAAkB,wBACzC,CAAK,CACL"}